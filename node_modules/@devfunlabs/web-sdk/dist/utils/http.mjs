import axios from "axios";
import { sleep } from "./common.mjs";
export const HTTP = {
    async get(url, options = undefined, isRetry = false) {
        const proxyURL = `https://proxy.dev.fun/?url=${encodeURIComponent(url)}`;
        try {
            return axios.get(proxyURL, options);
        }
        catch (error) {
            if (isRetry) {
                throw error;
            }
            await sleep(5000);
            return HTTP.get(url, options, true);
        }
    },
};
