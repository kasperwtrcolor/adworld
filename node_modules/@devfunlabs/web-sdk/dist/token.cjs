"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fetchTokenInfoByAddress = fetchTokenInfoByAddress;
exports.fetchTokenInfoBySymbol = fetchTokenInfoBySymbol;
const dexscreener_1 = require("./dexscreener/index.cjs");
const symbol_1 = require("./dexscreener/symbol.cjs");
const pumpfun_1 = require("./pumpfun/index.cjs");
async function fetchTokenInfoByAddress(mint) {
    const [dexInfo, pumpInfo] = await Promise.all([(0, dexscreener_1.tryFetchDexscreenerToken)(mint), (0, pumpfun_1.tryFetchPumpfunToken)(mint)]);
    const tokenInfo = {
        ...dexInfo,
        ...pumpInfo,
        contractAddress: mint,
        symbol: dexInfo?.symbol ?? pumpInfo?.symbol ?? '',
        marketcap: dexInfo?.marketcap ?? pumpInfo?.marketcap,
        price: dexInfo?.price ?? pumpInfo?.price,
    };
    return tokenInfo;
}
async function fetchTokenInfoBySymbol(symbol) {
    return await (0, symbol_1.tryFetchDexscreenerTokenBySymbol)(symbol);
}
